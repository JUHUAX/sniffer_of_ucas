# sniffer_of_ucas

## todo

- [x] 网卡选择
- [x] 基本的协议解析
  - [x] packet list
  - [x] packet details
  - [x] packet in binary
- [x] 数据报协议分析分析功能
- [x] 流量统计
- [x] 如何识别某种特定类型的应用层报文
- [ ] OS进程追踪
- [ ] 协议过滤
- [x] 流追踪能力
- [x] 保存为pcap文件和加载pcap文件
- [x] list显示最顶层协议类型

## 时间线

- 2023.3.24：基本上搞明白怎么去抓包解析了，写了ip、ipv6、udp、tcp、icmp、icmp6的解析，明天打算写一下ui
- 2023.3.25：搞定ui，现在遇到一个难题，winpcapy抓包的函数需要传入一个自定义的回调函数，我现在取不了回调函数里面的值
- 2023.3.26：实现了packet list，今天遇到两个问题花了很久，结果发现是很简单的问题。。。。
- 2023.3.28：基本功能都已经实现，除了协议过滤。原因是winpcapy库没有提供这样的功能，尝试对库代码进行改写，对抓包函数一路追踪，发现貌似作者并没有留有扩展过滤功能的余地。有点崩溃，尤其是看到scapy库功能完善，输出优雅，而winpcapy傻大黑粗之后，更崩溃了。
- 2023.3.29：实现了ip+sport追踪功能
- 2023.3.30：重新规划了一下代码，把各种功能写到了不同的文件里面；写完了流量统计的部分；写完了http和dns解析的部分，但是dpkt库识别不了这两个协议的数据部分不知道为啥；写了协议过滤部分，但是没成功。
- 2023.4.1：写报告，同时处理一下小bug。
- 2023.4.2：最后调整了一下，过滤器弄好了，把报告写了，把作业整理好了。
